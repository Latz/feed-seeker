"use strict";class n{#e=new Map;on(e,t){if(typeof t!="function")throw new TypeError("Listener must be a function");const r=this.#e.get(e);return r?r.add(t):this.#e.set(e,new Set([t])),this}once(e,t){if(typeof t!="function")throw new TypeError("Listener must be a function");const r=(...s)=>{this.off(e,r),t.apply(this,s)};return r.originalListener=t,this.on(e,r)}emit(e,...t){const r=this.#e.get(e);return r?([...r].forEach(s=>{try{s.apply(this,t)}catch(i){console.error(`Error in event listener for ${e}:`,i)}}),!0):!1}off(e,t){const r=this.#e.get(e);return r?(r.forEach(s=>{(s===t||s.originalListener===t)&&r.delete(s)}),r.size===0&&this.#e.delete(e),this):this}removeAllListeners(e){return e?this.#e.delete(e):this.#e.clear(),this}listenerCount(e){const t=this.#e.get(e);return t?t.size:0}eventNames(){return Array.from(this.#e.keys())}}exports.EventEmitter=n;
